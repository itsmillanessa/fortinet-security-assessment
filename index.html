<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fortinet Security Fabric - Cybersecurity Assessment</title>
    <meta name="description" content="Evaluate su postura de seguridad actual y descubra el roadmap personalizado para alcanzar la excelencia en ciberseguridad con Fortinet">
    <meta name="keywords" content="fortinet, cybersecurity, security assessment, firewall, compliance, roadmap">
    
    <!-- Open Graph para compartir en redes sociales -->
    <meta property="og:title" content="Fortinet Security Assessment">
    <meta property="og:description" content="Cybersecurity Maturity Assessment - Fortinet Security Fabric">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://fortinet-security-assessment-b9jpp25ig-alexis-millans-projects.vercel.app">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🛡️</text></svg>">
    
    <!-- React CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body {
            margin: 0;
            font-family: 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #f1f5f9 100%);
            min-height: 100vh;
        }
        
        * {
            box-sizing: border-box;
        }
        
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-size: 24px;
            color: #E31E24;
        }

        button:hover {
            transform: translateY(-2px);
            transition: all 0.3s ease;
        }

        .tech-card {
            transition: all 0.3s ease;
        }

        .tech-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }
    </style>
</head>
<body>
    <div id="root">
        <div class="loading">
            🛡️ Cargando Fortinet Security Assessment...
        </div>
    </div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const FortinetSecurityAssessment = () => {
          const [step, setStep] = useState(0); // Cambiado a 0 para mostrar homepage
          const [data, setData] = useState({
            industry: '',
            frameworks: [],
            techs: {},
            categoryFilter: 'Todas'
          });
          const [results, setResults] = useState(null);
          const [showComparison, setShowComparison] = useState(false);
          const roadmapCanvasRef = useRef(null);

          const industries = {
            financial: { name: 'Servicios Financieros', icon: '🏦', frameworks: ['SOX', 'PCI-DSS', 'NIST', 'ISO27001'] },
            government: { name: 'Gobierno', icon: '🏛️', frameworks: ['NIST', 'FedRAMP', 'FISMA', 'CIS'] },
            healthcare: { name: 'Salud', icon: '🏥', frameworks: ['HIPAA', 'HITECH', 'NIST', 'ISO27001'] },
            retail: { name: 'Retail', icon: '🛒', frameworks: ['PCI-DSS', 'GDPR', 'ISO27001', 'CIS'] },
            manufacturing: { name: 'Manufactura', icon: '🏭', frameworks: ['IEC62443', 'NIST', 'ISO27001', 'CIS'] },
            education: { name: 'Educación', icon: '🎓', frameworks: ['FERPA', 'NIST', 'ISO27001', 'CIS'] }
          };

          const frameworks = {
            'NIST': { name: 'NIST Framework', icon: '🇺🇸', color: '#1e40af' },
            'ISO27001': { name: 'ISO 27001', icon: '🌍', color: '#059669' },
            'CIS': { name: 'CIS Controls', icon: '🛡️', color: '#dc2626' },
            'PCI-DSS': { name: 'PCI-DSS', icon: '💳', color: '#7c3aed' },
            'SOX': { name: 'SOX', icon: '📊', color: '#ea580c' },
            'GDPR': { name: 'GDPR', icon: '🇪🇺', color: '#0891b2' },
            'HIPAA': { name: 'HIPAA', icon: '🏥', color: '#dc2626' },
            'FERPA': { name: 'FERPA', icon: '📚', color: '#7c3aed' },
            'FedRAMP': { name: 'FedRAMP', icon: '🏛️', color: '#059669' },
            'FISMA': { name: 'FISMA', icon: '🔒', color: '#ea580c' },
            'HITECH': { name: 'HITECH', icon: '💊', color: '#ec4899' },
            'IEC62443': { name: 'IEC 62443', icon: '🏭', color: '#0891b2' }
          };

          const competitors = {
            'Palo Alto': {
              name: 'Palo Alto Networks', logo: '🟧', color: '#ff6900', marketShare: 18,
              strengths: ['NGFW líder', 'Threat Intelligence', 'Cloud Security'],
              weaknesses: ['Precio alto', 'Complejidad', 'Soporte limitado']
            },
            'Cisco': {
              name: 'Cisco Security', logo: '🔵', color: '#0066cc', marketShare: 15,
              strengths: ['Integración networking', 'Enterprise Focus', 'Ecosystem'],
              weaknesses: ['Costos altos', 'Complejidad', 'Múltiples consolas']
            },
            'Check Point': {
              name: 'Check Point', logo: '🔴', color: '#ff0000', marketShare: 12,
              strengths: ['Threat Prevention', 'Enterprise Security', 'R&D'],
              weaknesses: ['Precio premium', 'Interfaces complejas', 'Curva de aprendizaje']
            }
          };

          const maturityPhases = {
            phase1: {
              name: "Básico - Protección Fundamental", level: "1.0 - 2.5", color: "#dc2626", bgColor: "#fee2e2",
              description: "Controles básicos de seguridad", compliance: 25
            },
            phase2: {
              name: "Intermedio - Detección y Respuesta", level: "2.5 - 3.5", color: "#f97316", bgColor: "#fed7aa",
              description: "Capacidades de detección y análisis", compliance: 60
            },
            phase3: {
              name: "Avanzado - Orquestación Inteligente", level: "3.5 - 4.5", color: "#0891b2", bgColor: "#cffafe",
              description: "Respuesta automatizada y XDR", compliance: 85
            },
            phase4: {
              name: "Excelencia - Zero Trust & AI", level: "4.5 - 5.0", color: "#059669", bgColor: "#dcfce7",
              description: "Arquitectura Zero Trust completa", compliance: 100
            }
          };

          const technologies = {
            'FortiGate 30G': { 
              icon: '🔥', score: 0.8, desc: 'Next-Generation Firewall de entrada', phase: 'phase1', category: 'Network Security',
              dependencies: [], enables: ['FortiAnalyzer', 'FortiManager']
            },
            'FortiGate 700G': { 
              icon: '⚡', score: 1.8, desc: 'Hybrid Mesh Firewall avanzado', phase: 'phase3', category: 'Network Security',
              dependencies: [], enables: ['FortiAnalyzer', 'FortiXDR']
            },
            'FortiEDR': { 
              icon: '🛡️', score: 1.3, desc: 'Endpoint Detection and Response', phase: 'phase2', category: 'Endpoint Security',
              dependencies: ['FortiClient EMS'], enables: ['FortiXDR']
            },
            'FortiXDR': { 
              icon: '🎯', score: 1.7, desc: 'Extended Detection and Response', phase: 'phase3', category: 'SOC & Analytics',
              dependencies: ['FortiEDR'], enables: ['FortiSIEM']
            },
            'FortiSIEM': { 
              icon: '🔍', score: 1.4, desc: 'Security Information and Event Management', phase: 'phase3', category: 'SOC & Analytics',
              dependencies: ['FortiAnalyzer'], enables: ['FortiSOAR']
            },
            'FortiAnalyzer': { 
              icon: '📊', score: 0.9, desc: 'Security Analytics y Reporting', phase: 'phase2', category: 'SOC & Analytics',
              dependencies: ['FortiGate 30G'], enables: ['FortiSIEM']
            },
            'FortiAuthenticator': { 
              icon: '🔐', score: 0.8, desc: 'Multi-Factor Authentication', phase: 'phase1', category: 'Access Control',
              dependencies: [], enables: ['FortiNAC']
            },
            'FortiNAC': { 
              icon: '🚪', score: 1.2, desc: 'Network Access Control', phase: 'phase2', category: 'Access Control',
              dependencies: ['FortiAuthenticator'], enables: []
            },
            'FortiMail': { 
              icon: '📧', score: 1.0, desc: 'Email Security Gateway', phase: 'phase1', category: 'Email & Web Security',
              dependencies: [], enables: ['FortiSandbox']
            },
            'FortiWeb': { 
              icon: '🌍', score: 1.1, desc: 'Web Application Firewall', phase: 'phase2', category: 'Email & Web Security',
              dependencies: [], enables: ['FortiSandbox']
            },
            'FortiSandbox': { 
              icon: '🧪', score: 1.0, desc: 'Advanced Threat Protection', phase: 'phase2', category: 'Email & Web Security',
              dependencies: ['FortiMail'], enables: ['FortiXDR']
            },
            'FortiClient EMS': { 
              icon: '💻', score: 0.7, desc: 'Endpoint Management Suite', phase: 'phase1', category: 'Endpoint Security',
              dependencies: [], enables: ['FortiEDR']
            },
            'FortiSwitch': { 
              icon: '🔌', score: 0.6, desc: 'Switching Ethernet seguro', phase: 'phase2', category: 'Secure Networking',
              dependencies: ['FortiGate 30G'], enables: ['FortiNAC']
            },
            'FortiAP': { 
              icon: '📶', score: 0.5, desc: 'Wireless Access Points', phase: 'phase2', category: 'Secure Networking',
              dependencies: ['FortiGate 30G'], enables: ['FortiNAC']
            },
            'FortiSASE': { 
              icon: '🌐', score: 1.8, desc: 'Secure Access Service Edge', phase: 'phase4', category: 'SASE & SD-WAN',
              dependencies: ['FortiGate 700G'], enables: []
            },
            'FortiManager': { 
              icon: '⚙️', score: 0.8, desc: 'Centralized Security Management', phase: 'phase2', category: 'Management',
              dependencies: ['FortiGate 30G'], enables: []
            },
            'FortiSOAR': { 
              icon: '🤖', score: 1.3, desc: 'Security Orchestration and Response', phase: 'phase3', category: 'SOC & Analytics',
              dependencies: ['FortiSIEM'], enables: []
            },
            'FortiCWP': { 
              icon: '☁️', score: 1.1, desc: 'Cloud Workload Protection', phase: 'phase3', category: 'Cloud Security',
              dependencies: [], enables: ['FortiXDR']
            }
          };

          const calculateMaturityLevel = () => {
            const implemented = Object.entries(data.techs).filter(([_, selected]) => selected).map(([name, _]) => technologies[name]);
            const totalScore = implemented.reduce((sum, tech) => sum + tech.score, 0);
            const maxPossibleScore = Object.values(technologies).reduce((sum, tech) => sum + tech.score, 0);
            return Math.min(5, Math.max(1, (totalScore / maxPossibleScore) * 5));
          };

          const getCurrentPhase = () => {
            const level = calculateMaturityLevel();
            if (level <= 2.5) return 'phase1';
            if (level <= 3.5) return 'phase2'; 
            if (level <= 4.5) return 'phase3';
            return 'phase4';
          };

          const generateResults = () => {
            const implemented = Object.entries(data.techs)
              .filter(([_, selected]) => selected)
              .map(([name, _]) => ({ name, ...technologies[name] }));
            
            const missing = Object.entries(technologies)
              .filter(([name, _]) => !data.techs[name])
              .map(([name, tech]) => ({ name, ...tech }))
              .sort((a, b) => b.score - a.score);

            const overallMaturity = calculateMaturityLevel();
            const currentPhase = getCurrentPhase();

            setResults({
              implemented,
              missing,
              overallMaturity: Math.round(overallMaturity * 10) / 10,
              currentPhase,
              riskReduction: Math.min(overallMaturity * 17, 85)
            });
            setStep(4);
          };

          // Función simplificada de dibujo para el canvas
          const drawSimpleRoadmap = () => {
            const canvas = roadmapCanvasRef.current;
            if (!canvas || !results) return;

            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;

            // Limpiar canvas
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, width, height);

            // Título
            ctx.fillStyle = '#E31E24';
            ctx.font = 'bold 24px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('🛡️ FORTINET SECURITY ROADMAP', width / 2, 40);

            // Nivel de madurez
            ctx.fillStyle = '#333333';
            ctx.font = 'bold 18px Arial';
            ctx.fillText(`Nivel de Madurez: ${results.overallMaturity}/5.0`, width / 2, 80);

            // Línea base
            ctx.strokeStyle = '#E31E24';
            ctx.lineWidth = 4;
            ctx.beginPath();
            ctx.moveTo(50, height / 2);
            ctx.lineTo(width - 50, height / 2);
            ctx.stroke();

            // Marcador actual
            const currentX = 50 + ((width - 100) * (results.overallMaturity / 5));
            ctx.fillStyle = '#E31E24';
            ctx.beginPath();
            ctx.arc(currentX, height / 2, 8, 0, 2 * Math.PI);
            ctx.fill();

            // Etiquetas
            ctx.fillStyle = '#666666';
            ctx.font = '14px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('Básico', 50, height / 2 + 30);
            ctx.textAlign = 'right';
            ctx.fillText('Excelencia', width - 50, height / 2 + 30);
            ctx.textAlign = 'center';
            ctx.fillText('Tu Posición', currentX, height / 2 - 20);
          };

          useEffect(() => {
            if (step === 4 && results) {
              setTimeout(drawSimpleRoadmap, 200);
            }
          }, [step, results]);

          return (
            <div style={{ 
              minHeight: '100vh', 
              background: 'linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #f1f5f9 100%)', 
              padding: '20px',
              fontFamily: "'Segoe UI', 'Roboto', sans-serif"
            }}>
              <div style={{ maxWidth: '1200px', margin: '0 auto' }}>
                
                {/* Header */}
                <div style={{ textAlign: 'center', marginBottom: '40px' }}>
                  <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', marginBottom: '20px' }}>
                    <div style={{ 
                      background: 'linear-gradient(135deg, #E31E24 0%, #B71C1C 100%)',
                      borderRadius: '15px',
                      padding: '12px 20px',
                      marginRight: '20px',
                      boxShadow: '0 8px 25px rgba(227, 30, 36, 0.3)'
                    }}>
                      <span style={{ fontSize: '32px', color: 'white', fontWeight: 'bold' }}>🛡️</span>
                    </div>
                    <div>
                      <h1 style={{ fontSize: '36px', fontWeight: 'bold', color: '#1f2937', margin: 0, lineHeight: '1.2' }}>
                        Fortinet Security Fabric
                      </h1>
                      <div style={{ fontSize: '18px', color: '#E31E24', fontWeight: '600', marginTop: '5px' }}>
                        Cybersecurity Maturity Assessment
                      </div>
                    </div>
                  </div>
                  <p style={{ fontSize: '16px', color: '#6b7280', maxWidth: '600px', margin: '0 auto' }}>
                    Evaluate su postura de seguridad actual y descubra el roadmap personalizado para alcanzar la excelencia en ciberseguridad
                  </p>
                  
                  {step === 0 && (
                    <div style={{ margin: '30px 0' }}>
                      <button
                        onClick={() => {
                          setData({
                            industry: 'financial',
                            frameworks: ['SOX', 'PCI-DSS', 'NIST', 'ISO27001'],
                            techs: {
                              'FortiGate 30G': true,
                              'FortiAuthenticator': true,
                              'FortiMail': true,
                              'FortiClient EMS': true,
                              'FortiAnalyzer': true
                            },
                            categoryFilter: 'Todas'
                          });
                          generateResults();
                        }}
                        style={{
                          background: 'linear-gradient(135deg, #E31E24 0%, #B71C1C 100%)',
                          color: 'white',
                          padding: '15px 35px',
                          borderRadius: '12px',
                          border: 'none',
                          fontSize: '18px',
                          fontWeight: 'bold',
                          cursor: 'pointer',
                          marginRight: '15px',
                          boxShadow: '0 8px 25px rgba(227, 30, 36, 0.3)',
                          transition: 'all 0.3s ease'
                        }}
                      >
                        🚀 Ver Demo Interactivo
                      </button>
                      
                      <button
                        onClick={() => setStep(1)}
                        style={{
                          background: 'linear-gradient(135deg, #333333 0%, #1a1a1a 100%)',
                          color: 'white',
                          padding: '15px 35px',
                          borderRadius: '12px',
                          border: 'none',
                          fontSize: '18px',
                          fontWeight: 'bold',
                          cursor: 'pointer',
                          boxShadow: '0 8px 25px rgba(51, 51, 51, 0.3)',
                          transition: 'all 0.3s ease'
                        }}
                      >
                        📊 Iniciar Assessment
                      </button>
                    </div>
                  )}
                  
                  {/* Trust indicators */}
                  {step === 0 && (
                    <div style={{ display: 'flex', justifyContent: 'center', gap: '30px', flexWrap: 'wrap', marginTop: '20px' }}>
                      <div style={{ display: 'flex', alignItems: 'center', color: '#6b7280', fontSize: '14px' }}>
                        <span style={{ color: '#E31E24', marginRight: '8px' }}>🏆</span>
                        #1 en Firewalls Globalmente
                      </div>
                      <div style={{ display: 'flex', alignItems: 'center', color: '#6b7280', fontSize: '14px' }}>
                        <span style={{ color: '#E31E24', marginRight: '8px' }}>🛡️</span>
                        500,000+ Organizaciones
                      </div>
                      <div style={{ display: 'flex', alignItems: 'center', color: '#6b7280', fontSize: '14px' }}>
                        <span style={{ color: '#E31E24', marginRight: '8px' }}>⚡</span>
                        Assessment en 5 Minutos
                      </div>
                    </div>
                  )}
                </div>

                {/* Step 1: Industry Selection */}
                {step === 1 && (
                  <div style={{ background: 'white', borderRadius: '20px', padding: '40px', boxShadow: '0 10px 25px rgba(0,0,0,0.1)' }}>
                    <h2 style={{ fontSize: '28px', fontWeight: 'bold', marginBottom: '30px', textAlign: 'center' }}>
                      🏢 Selecciona tu Industria
                    </h2>
                    
                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '20px', marginBottom: '40px' }}>
                      {Object.entries(industries).map(([key, industry]) => (
                        <div
                          key={key}
                          onClick={() => setData({...data, industry: key, frameworks: industry.frameworks})}
                          className="tech-card"
                          style={{
                            padding: '20px',
                            border: data.industry === key ? '3px solid #E31E24' : '2px solid #e5e7eb',
                            borderRadius: '15px',
                            cursor: 'pointer',
                            background: data.industry === key ? '#fef2f2' : 'white',
                            transition: 'all 0.3s ease',
                            textAlign: 'center'
                          }}
                        >
                          <div style={{ fontSize: '40px', marginBottom: '10px' }}>{industry.icon}</div>
                          <div style={{ fontSize: '18px', fontWeight: 'bold', marginBottom: '10px' }}>{industry.name}</div>
                          <div style={{ fontSize: '12px', color: '#6b7280' }}>
                            Frameworks: {industry.frameworks.join(', ')}
                          </div>
                        </div>
                      ))}
                    </div>

                    <div style={{ textAlign: 'center' }}>
                      <button
                        onClick={() => setStep(2)}
                        disabled={!data.industry}
                        style={{
                          background: data.industry ? 'linear-gradient(135deg, #E31E24 0%, #B71C1C 100%)' : '#9ca3af',
                          color: 'white',
                          padding: '15px 30px',
                          borderRadius: '12px',
                          border: 'none',
                          fontSize: '18px',
                          fontWeight: 'bold',
                          cursor: data.industry ? 'pointer' : 'not-allowed',
                          boxShadow: data.industry ? '0 8px 25px rgba(227, 30, 36, 0.3)' : 'none'
                        }}
                      >
                        Continuar al Assessment →
                      </button>
                    </div>
                  </div>
                )}

                {/* Step 2: Technology Assessment */}
                {step === 2 && (
                  <div style={{ background: 'white', borderRadius: '20px', padding: '40px', boxShadow: '0 10px 25px rgba(0,0,0,0.1)' }}>
                    <h2 style={{ fontSize: '28px', fontWeight: 'bold', marginBottom: '20px', textAlign: 'center' }}>
                      🔍 Assessment del Portafolio Fortinet
                    </h2>

                    {/* Category Filters */}
                    <div style={{ marginBottom: '30px', textAlign: 'center' }}>
                      <div style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'center', gap: '10px' }}>
                        {['Todas', 'Network Security', 'Endpoint Security', 'Email & Web Security', 'Access Control', 'SOC & Analytics', 'Cloud Security', 'SASE & SD-WAN', 'Management'].map(category => (
                          <button
                            key={category}
                            onClick={() => setData({...data, categoryFilter: category})}
                            style={{
                              padding: '8px 16px',
                              borderRadius: '20px',
                              border: (data.categoryFilter || 'Todas') === category ? '2px solid #E31E24' : '2px solid #e5e7eb',
                              background: (data.categoryFilter || 'Todas') === category ? '#fef2f2' : 'white',
                              color: (data.categoryFilter || 'Todas') === category ? '#E31E24' : '#6b7280',
                              fontSize: '12px',
                              fontWeight: 'bold',
                              cursor: 'pointer'
                            }}
                          >
                            {category}
                          </button>
                        ))}
                      </div>
                    </div>
                    
                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))', gap: '20px', marginBottom: '30px' }}>
                      {Object.entries(technologies)
                        .filter(([name, tech]) => 
                          !data.categoryFilter || 
                          data.categoryFilter === 'Todas' || 
                          tech.category === data.categoryFilter
                        )
                        .map(([name, tech]) => {
                        const isImplemented = data.techs[name];
                        const hasImplementedDependencies = tech.dependencies.every(dep => data.techs[dep]);
                        const canImplement = tech.dependencies.length === 0 || hasImplementedDependencies;
                        
                        return (
                          <div
                            key={name}
                            onClick={() => {
                              if (canImplement || isImplemented) {
                                setData({
                                  ...data,
                                  techs: { ...data.techs, [name]: !data.techs[name] }
                                });
                              }
                            }}
                            className="tech-card"
                            style={{
                              padding: '20px',
                              border: isImplemented ? '3px solid #10b981' : 
                                     !canImplement ? '3px solid #d1d5db' :
                                     '2px solid #e5e7eb',
                              borderRadius: '15px',
                              cursor: (canImplement || isImplemented) ? 'pointer' : 'not-allowed',
                              background: isImplemented ? '#f0fdf4' : 
                                         !canImplement ? '#f9fafb' : 'white',
                              opacity: !canImplement && !isImplemented ? 0.6 : 1,
                              position: 'relative'
                            }}
                          >
                            <div style={{ 
                              position: 'absolute', 
                              top: '10px', 
                              right: '10px',
                              background: '#3b82f6',
                              color: 'white',
                              padding: '2px 8px',
                              borderRadius: '12px',
                              fontSize: '10px',
                              fontWeight: 'bold'
                            }}>
                              {tech.category}
                            </div>

                            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '10px' }}>
                              <div style={{ display: 'flex', alignItems: 'center' }}>
                                <span style={{ fontSize: '24px', marginRight: '10px' }}>{tech.icon}</span>
                                <span style={{ fontWeight: 'bold', fontSize: '16px' }}>{name}</span>
                              </div>
                              {isImplemented && <span style={{ color: '#10b981', fontSize: '20px' }}>✅</span>}
                              {!canImplement && !isImplemented && <span style={{ color: '#9ca3af', fontSize: '16px' }}>🔒</span>}
                            </div>

                            <p style={{ fontSize: '14px', color: '#6b7280', margin: '8px 0' }}>{tech.desc}</p>
                            
                            {tech.dependencies.length > 0 && (
                              <div style={{ marginTop: '10px', marginBottom: '10px' }}>
                                <div style={{ fontSize: '11px', fontWeight: 'bold', color: '#6b7280', marginBottom: '5px' }}>
                                  Requiere:
                                </div>
                                <div style={{ display: 'flex', flexWrap: 'wrap', gap: '4px' }}>
                                  {tech.dependencies.map(dep => (
                                    <span
                                      key={dep}
                                      style={{
                                        background: data.techs[dep] ? '#dcfce7' : '#fef2f2',
                                        color: data.techs[dep] ? '#16a34a' : '#dc2626',
                                        padding: '2px 6px',
                                        borderRadius: '8px',
                                        fontSize: '9px',
                                        fontWeight: 'bold'
                                      }}
                                    >
                                      {data.techs[dep] ? '✓' : '○'} {dep.split(' ')[0]}
                                    </span>
                                  ))}
                                </div>
                              </div>
                            )}

                            <div style={{ 
                              marginTop: '10px', 
                              fontSize: '12px', 
                              fontWeight: 'bold', 
                              color: '#3b82f6' 
                            }}>
                              Impacto: +{tech.score}
                            </div>
                          </div>
                        );
                      })}
                    </div>

                    <div style={{ display: 'flex', justifyContent: 'space-between' }}>
                      <button
                        onClick={() => setStep(1)}
                        style={{
                          background: 'linear-gradient(135deg, #6b7280 0%, #4b5563 100%)',
                          color: 'white',
                          padding: '12px 24px',
                          borderRadius: '10px',
                          border: 'none',
                          fontSize: '16px',
                          fontWeight: 'bold',
                          cursor: 'pointer'
                        }}
                      >
                        ← Anterior
                      </button>
                      <button
                        onClick={generateResults}
                        style={{
                          background: 'linear-gradient(135deg, #E31E24 0%, #B71C1C 100%)',
                          color: 'white',
                          padding: '12px 30px',
                          borderRadius: '10px',
                          border: 'none',
                          fontSize: '18px',
                          fontWeight: 'bold',
                          cursor: 'pointer',
                          boxShadow: '0 8px 25px rgba(227, 30, 36, 0.3)'
                        }}
                      >
                        🚀 Generar Roadmap
                      </button>
                    </div>
                  </div>
                )}

                {/* Resultados */}
                {step === 4 && results && (
                  <>
                    <div style={{ background: 'white', borderRadius: '20px', padding: '40px', marginBottom: '30px', boxShadow: '0 10px 25px rgba(0,0,0,0.1)' }}>
                      <h2 style={{ fontSize: '32px', fontWeight: 'bold', marginBottom: '30px', textAlign: 'center' }}>
                        🎯 Tu Nivel de Madurez
                      </h2>
                      
                      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '20px', marginBottom: '30px' }}>
                        <div style={{ textAlign: 'center', padding: '30px', background: '#dbeafe', borderRadius: '15px' }}>
                          <div style={{ fontSize: '48px', fontWeight: 'bold', color: '#3b82f6', marginBottom: '10px' }}>
                            {results.overallMaturity}
                          </div>
                          <div style={{ fontSize: '14px', color: '#6b7280' }}>Nivel Actual</div>
                        </div>
                        
                        <div style={{ textAlign: 'center', padding: '30px', background: '#dcfce7', borderRadius: '15px' }}>
                          <div style={{ fontSize: '48px', fontWeight: 'bold', color: '#10b981', marginBottom: '10px' }}>
                            {results.implemented.length}
                          </div>
                          <div style={{ fontSize: '14px', color: '#6b7280' }}>Implementadas</div>
                        </div>
                        
                        <div style={{ textAlign: 'center', padding: '30px', background: '#fef3c7', borderRadius: '15px' }}>
                          <div style={{ fontSize: '48px', fontWeight: 'bold', color: '#f59e0b', marginBottom: '10px' }}>
                            {data.frameworks.length}
                          </div>
                          <div style={{ fontSize: '14px', color: '#6b7280' }}>Frameworks</div>
                        </div>
                        
                        <div style={{ textAlign: 'center', padding: '30px', background: '#fdf4ff', borderRadius: '15px' }}>
                          <div style={{ fontSize: '48px', fontWeight: 'bold', color: '#a855f7', marginBottom: '10px' }}>
                            {maturityPhases[results.currentPhase]?.name.split(' - ')[0] || 'Básico'}
                          </div>
                          <div style={{ fontSize: '14px', color: '#6b7280' }}>Fase Actual</div>
                        </div>
                      </div>
                    </div>

                    {/* Canvas del roadmap */}
                    <div style={{ background: 'white', borderRadius: '20px', padding: '40px', marginBottom: '30px', boxShadow: '0 10px 25px rgba(0,0,0,0.1)' }}>
                      <h2 style={{ fontSize: '28px', fontWeight: 'bold', marginBottom: '20px', textAlign: 'center' }}>
                        🗺️ Roadmap Visual de Madurez
                      </h2>
                      
                      <div style={{ 
                        display: 'flex', 
                        justifyContent: 'center', 
                        marginBottom: '20px',
                        background: 'linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)',
                        borderRadius: '15px',
                        padding: '20px'
                      }}>
                        <canvas
                          ref={roadmapCanvasRef}
                          width={800}
                          height={200}
                          style={{
                            maxWidth: '100%',
                            height: 'auto',
                            borderRadius: '10px',
                            border: '2px solid #e2e8f0'
                          }}
                        />
                      </div>

                      {/* Phase Details */}
                      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '15px' }}>
                        {Object.entries(maturityPhases).map(([phaseKey, phase]) => {
                          const isCurrentPhase = results.currentPhase === phaseKey;
                          return (
                            <div
                              key={phaseKey}
                              style={{
                                padding: '15px',
                                border: `3px solid ${phase.color}`,
                                borderRadius: '12px',
                                background: isCurrentPhase ? phase.bgColor : 'white',
                                opacity: isCurrentPhase ? 1 : 0.7
                              }}
                            >
                              <div style={{ display: 'flex', alignItems: 'center', marginBottom: '8px' }}>
                                <span style={{ 
                                  background: phase.color,
                                  color: 'white',
                                  borderRadius: '50%',
                                  width: '24px',
                                  height: '24px',
                                  display: 'flex',
                                  alignItems: 'center',
                                  justifyContent: 'center',
                                  fontSize: '12px',
                                  fontWeight: 'bold',
                                  marginRight: '8px'
                                }}>
                                  {Object.keys(maturityPhases).indexOf(phaseKey) + 1}
                                </span>
                                <span style={{ fontWeight: 'bold', fontSize: '14px', color: phase.color }}>
                                  {phase.name.split(' - ')[0]}
                                </span>
                                {isCurrentPhase && (
                                  <span style={{ marginLeft: 'auto', fontSize: '16px' }}>📍</span>
                                )}
                              </div>
                              <div style={{ fontSize: '11px', color: '#6b7280' }}>
                                {phase.description}
                              </div>
                            </div>
                          );
                        })}
                      </div>
                    </div>

                    {/* Technologies */}
                    <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '30px', marginBottom: '30px' }}>
                      
                      {/* Implemented */}
                      <div style={{ background: 'white', borderRadius: '20px', padding: '30px', boxShadow: '0 10px 25px rgba(0,0,0,0.1)' }}>
                        <h3 style={{ fontSize: '24px', fontWeight: 'bold', marginBottom: '20px', color: '#10b981' }}>
                          ✅ Implementadas ({results.implemented.length})
                        </h3>
                        
                        {results.implemented.length === 0 ? (
                          <div style={{ textAlign: 'center', padding: '40px', color: '#6b7280' }}>
                            <div style={{ fontSize: '48px', marginBottom: '15px', opacity: 0.5 }}>🛡️</div>
                            <p>No tienes tecnologías Fortinet</p>
                          </div>
                        ) : (
                          <div style={{ display: 'flex', flexDirection: 'column', gap: '15px' }}>
                            {results.implemented.map((tech, idx) => (
                              <div 
                                key={idx}
                                style={{
                                  border: '2px solid #10b981',
                                  borderRadius: '12px',
                                  padding: '15px',
                                  background: '#f0fdf4'
                                }}
                              >
                                <div style={{ display: 'flex', alignItems: 'center', marginBottom: '8px' }}>
                                  <span style={{ fontSize: '20px', marginRight: '10px' }}>{tech.icon}</span>
                                  <span style={{ fontWeight: 'bold' }}>{tech.name}</span>
                                </div>
                                <p style={{ fontSize: '14px', color: '#6b7280' }}>{tech.desc}</p>
                              </div>
                            ))}
                          </div>
                        )}
                      </div>

                      {/* Missing */}
                      <div style={{ background: 'white', borderRadius: '20px', padding: '30px', boxShadow: '0 10px 25px rgba(0,0,0,0.1)' }}>
                        <h3 style={{ fontSize: '24px', fontWeight: 'bold', marginBottom: '20px', color: '#E31E24' }}>
                          🎯 Próximos Pasos ({Math.min(results.missing.length, 5)})
                        </h3>
                        
                        <div style={{ display: 'flex', flexDirection: 'column', gap: '15px' }}>
                          {results.missing.slice(0, 5).map((tech, idx) => (
                            <div 
                              key={idx}
                              style={{
                                border: '2px solid #E31E24',
                                borderRadius: '12px',
                                padding: '15px',
                                background: '#fef2f2'
                              }}
                            >
                              <div style={{ display: 'flex', alignItems: 'center', marginBottom: '8px' }}>
                                <span style={{ fontSize: '20px', marginRight: '10px' }}>{tech.icon}</span>
                                <span style={{ fontWeight: 'bold' }}>{tech.name}</span>
                                <span style={{ 
                                  marginLeft: 'auto',
                                  fontSize: '12px', 
                                  background: '#E31E24', 
                                  color: 'white', 
                                  padding: '4px 8px', 
                                  borderRadius: '20px' 
                                }}>
                                  #{idx + 1}
                                </span>
                              </div>
                              <p style={{ fontSize: '14px', color: '#6b7280' }}>{tech.desc}</p>
                            </div>
                          ))}
                        </div>
                      </div>
                    </div>

                    {/* Botones de acción */}
                    <div style={{ display: 'flex', justifyContent: 'center', gap: '20px', flexWrap: 'wrap' }}>
                      <button
                        onClick={() => {
                          setStep(0);
                          setData({ industry: '', frameworks: [], techs: {}, categoryFilter: 'Todas' });
                          setResults(null);
                        }}
                        style={{
                          background: 'linear-gradient(135deg, #6b7280 0%, #4b5563 100%)',
                          color: 'white',
                          padding: '15px 25px',
                          borderRadius: '12px',
                          border: 'none',
                          fontSize: '16px',
                          fontWeight: 'bold',
                          cursor: 'pointer',
                          boxShadow: '0 4px 15px rgba(107, 114, 128, 0.3)'
                        }}
                      >
                        🔄 Nuevo Assessment
                      </button>
                      
                      <button
                        onClick={() => setShowComparison(true)}
                        style={{
                          background: 'linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%)',
                          color: 'white',
                          padding: '15px 25px',
                          borderRadius: '12px',
                          border: 'none',
                          fontSize: '16px',
                          fontWeight: 'bold',
                          cursor: 'pointer',
                          boxShadow: '0 4px 15px rgba(124, 58, 237, 0.3)'
                        }}
                      >
                        🥊 Ver Comparativa
                      </button>
                      
                      <button
                        onClick={() => {
                          const url = window.location.href;
                          navigator.clipboard.writeText(url).then(() => {
                            alert('🔗 ¡URL copiada al portapapeles! Compártela con clientes y equipo.');
                          }).catch(() => {
                            alert('🔗 URL para compartir: ' + url);
                          });
                        }}
                        style={{
                          background: 'linear-gradient(135deg, #E31E24 0%, #B71C1C 100%)',
                          color: 'white',
                          padding: '15px 25px',
                          borderRadius: '12px',
                          border: 'none',
                          fontSize: '16px',
                          fontWeight: 'bold',
                          cursor: 'pointer',
                          boxShadow: '0 4px 15px rgba(227, 30, 36, 0.3)'
                        }}
                      >
                        🔗 Compartir Resultado
                      </button>
                    </div>
                  </>
                )}

                {/* Competitive Analysis Modal */}
                {showComparison && (
                  <div style={{
                    position: 'fixed',
                    top: 0,
                    left: 0,
                    right: 0,
                    bottom: 0,
                    background: 'rgba(0,0,0,0.8)',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    zIndex: 1000,
                    padding: '20px'
                  }}>
                    <div style={{
                      background: 'white',
                      borderRadius: '20px',
                      padding: '40px',
                      maxWidth: '1000px',
                      width: '100%',
                      maxHeight: '90vh',
                      overflow: 'auto'
                    }}>
                      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '30px' }}>
                        <h2 style={{ fontSize: '28px', fontWeight: 'bold', margin: 0 }}>
                          🥊 Fortinet vs Competencia
                        </h2>
                        <button
                          onClick={() => setShowComparison(false)}
                          style={{
                            background: 'none',
                            border: 'none',
                            fontSize: '24px',
                            cursor: 'pointer',
                            color: '#6b7280'
                          }}
                        >
                          ✕
                        </button>
                      </div>

                      {/* Competitive Comparison */}
                      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '20px', marginBottom: '30px' }}>
                        {Object.entries(competitors).map(([key, competitor]) => (
                          <div 
                            key={key}
                            style={{
                              border: `3px solid ${competitor.color}`,
                              borderRadius: '15px',
                              padding: '20px',
                              background: `${competitor.color}10`
                            }}
                          >
                            <div style={{ display: 'flex', alignItems: 'center', marginBottom: '15px' }}>
                              <span style={{ fontSize: '32px', marginRight: '10px' }}>{competitor.logo}</span>
                              <div>
                                <h4 style={{ fontSize: '18px', fontWeight: 'bold', margin: 0, color: competitor.color }}>
                                  {competitor.name}
                                </h4>
                                <div style={{ fontSize: '12px', color: '#6b7280' }}>
                                  Market Share: {competitor.marketShare}%
                                </div>
                              </div>
                            </div>

                            <div style={{ marginBottom: '15px' }}>
                              <h5 style={{ fontSize: '14px', fontWeight: 'bold', color: '#059669', marginBottom: '8px' }}>
                                ✅ Fortalezas:
                              </h5>
                              <ul style={{ fontSize: '12px', margin: 0, paddingLeft: '20px' }}>
                                {competitor.strengths.map((strength, idx) => (
                                  <li key={idx} style={{ marginBottom: '4px' }}>{strength}</li>
                                ))}
                              </ul>
                            </div>

                            <div>
                              <h5 style={{ fontSize: '14px', fontWeight: 'bold', color: '#dc2626', marginBottom: '8px' }}>
                                ❌ Debilidades:
                              </h5>
                              <ul style={{ fontSize: '12px', margin: 0, paddingLeft: '20px' }}>
                                {competitor.weaknesses.map((weakness, idx) => (
                                  <li key={idx} style={{ marginBottom: '4px' }}>{weakness}</li>
                                ))}
                              </ul>
                            </div>
                          </div>
                        ))}
                      </div>

                      {/* Fortinet Advantages */}
                      <div style={{
                        background: 'linear-gradient(135deg, #fee2e2 0%, #fef2f2 100%)',
                        border: '3px solid #E31E24',
                        borderRadius: '15px',
                        padding: '30px'
                      }}>
                        <h3 style={{ fontSize: '24px', fontWeight: 'bold', marginBottom: '20px', color: '#E31E24', textAlign: 'center' }}>
                          🛡️ ¿Por qué elegir Fortinet?
                        </h3>
                        
                        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '20px' }}>
                          <div style={{ textAlign: 'center', padding: '20px', background: 'white', borderRadius: '12px' }}>
                            <div style={{ fontSize: '32px', marginBottom: '10px' }}>🏆</div>
                            <h4 style={{ fontSize: '16px', fontWeight: 'bold', marginBottom: '8px' }}>Líder del Mercado</h4>
                            <p style={{ fontSize: '12px', color: '#6b7280' }}>
                              #1 en shipments de firewalls globalmente
                            </p>
                          </div>
                          
                          <div style={{ textAlign: 'center', padding: '20px', background: 'white', borderRadius: '12px' }}>
                            <div style={{ fontSize: '32px', marginBottom: '10px' }}>💰</div>
                            <h4 style={{ fontSize: '16px', fontWeight: 'bold', marginBottom: '8px' }}>Mejor TCO</h4>
                            <p style={{ fontSize: '12px', color: '#6b7280' }}>
                              Hasta 50% menor costo que competidores
                            </p>
                          </div>
                          
                          <div style={{ textAlign: 'center', padding: '20px', background: 'white', borderRadius: '12px' }}>
                            <div style={{ fontSize: '32px', marginBottom: '10px' }}>🔗</div>
                            <h4 style={{ fontSize: '16px', fontWeight: 'bold', marginBottom: '8px' }}>Security Fabric</h4>
                            <p style={{ fontSize: '12px', color: '#6b7280' }}>
                              Plataforma completamente integrada
                            </p>
                          </div>
                          
                          <div style={{ textAlign: 'center', padding: '20px', background: 'white', borderRadius: '12px' }}>
                            <div style={{ fontSize: '32px', marginBottom: '10px' }}>⚡</div>
                            <h4 style={{ fontSize: '16px', fontWeight: 'bold', marginBottom: '8px' }}>Performance</h4>
                            <p style={{ fontSize: '12px', color: '#6b7280' }}>
                              ASICs propietarios para máximo rendimiento
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                )}

                {/* Footer */}
                <div style={{ textAlign: 'center', marginTop: '40px', padding: '20px', color: '#6b7280' }}>
                  <p>© 2025 Fortinet Security Fabric - Cybersecurity Assessment Tool</p>
                  <p style={{ fontSize: '14px' }}>Para más información contacte a su representante Fortinet</p>
                </div>
              </div>
            </div>
          );
        };

        ReactDOM.render(<FortinetSecurityAssessment />, document.getElementById('root'));
    </script>
</body>
</html>
