<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fortinet Security Fabric - Cybersecurity Assessment</title>
    <meta name="description" content="Evaluate su postura de seguridad actual y descubra el roadmap personalizado para alcanzar la excelencia en ciberseguridad con Fortinet">
    <meta name="keywords" content="fortinet, cybersecurity, security assessment, firewall, compliance, roadmap">
    
    <!-- Open Graph para compartir en redes sociales -->
    <meta property="og:title" content="Fortinet Security Assessment">
    <meta property="og:description" content="Cybersecurity Maturity Assessment - Fortinet Security Fabric">
    <meta property="og:type" content="website">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üõ°Ô∏è</text></svg>">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #f1f5f9 100%);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .logo-box {
            background: linear-gradient(135deg, #E31E24 0%, #B71C1C 100%);
            border-radius: 15px;
            padding: 12px 20px;
            margin-right: 20px;
            box-shadow: 0 8px 25px rgba(227, 30, 36, 0.3);
        }

        .logo-icon {
            font-size: 32px;
            color: white;
            font-weight: bold;
        }

        .main-title {
            font-size: 36px;
            font-weight: bold;
            color: #1f2937;
            margin: 0;
            line-height: 1.2;
        }

        .subtitle {
            font-size: 18px;
            color: #E31E24;
            font-weight: 600;
            margin-top: 5px;
        }

        .description {
            font-size: 16px;
            color: #6b7280;
            max-width: 600px;
            margin: 0 auto;
        }

        .btn {
            padding: 15px 35px;
            border-radius: 12px;
            border: none;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin: 0 8px 8px 0;
            transition: all 0.3s ease;
            display: inline-block;
            text-decoration: none;
            text-align: center;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn-primary {
            background: linear-gradient(135deg, #E31E24 0%, #B71C1C 100%);
            color: white;
            box-shadow: 0 8px 25px rgba(227, 30, 36, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #333333 0%, #1a1a1a 100%);
            color: white;
            box-shadow: 0 8px 25px rgba(51, 51, 51, 0.3);
        }

        .btn-gray {
            background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(107, 114, 128, 0.3);
        }

        .trust-indicators {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .trust-item {
            display: flex;
            align-items: center;
            color: #6b7280;
            font-size: 14px;
        }

        .trust-icon {
            color: #E31E24;
            margin-right: 8px;
        }

        .card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .card-title {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 30px;
            text-align: center;
        }

        .grid {
            display: grid;
            gap: 20px;
            margin-bottom: 30px;
        }

        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        .grid-3 {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }

        .grid-4 {
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }

        .industry-card {
            padding: 20px;
            border: 2px solid #e5e7eb;
            border-radius: 15px;
            cursor: pointer;
            background: white;
            transition: all 0.3s ease;
            text-align: center;
        }

        .industry-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        .industry-card.selected {
            border: 3px solid #E31E24;
            background: #fef2f2;
        }

        .industry-icon {
            font-size: 40px;
            margin-bottom: 10px;
        }

        .industry-name {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .industry-frameworks {
            font-size: 12px;
            color: #6b7280;
        }

        .tech-card {
            padding: 20px;
            border: 2px solid #e5e7eb;
            border-radius: 15px;
            cursor: pointer;
            background: white;
            transition: all 0.3s ease;
            position: relative;
        }

        .tech-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        .tech-card.implemented {
            border: 3px solid #10b981;
            background: #f0fdf4;
        }

        .tech-card.disabled {
            opacity: 0.6;
            cursor: not-allowed;
            border: 3px solid #d1d5db;
            background: #f9fafb;
        }

        .tech-category {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #3b82f6;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: bold;
        }

        .tech-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .tech-info {
            display: flex;
            align-items: center;
        }

        .tech-icon {
            font-size: 24px;
            margin-right: 10px;
        }

        .tech-name {
            font-weight: bold;
            font-size: 16px;
        }

        .tech-status {
            color: #10b981;
            font-size: 20px;
        }

        .tech-desc {
            font-size: 14px;
            color: #6b7280;
            margin: 8px 0;
        }

        .dependencies {
            margin: 10px 0;
        }

        .dep-label {
            font-size: 11px;
            font-weight: bold;
            color: #6b7280;
            margin-bottom: 5px;
        }

        .dep-list {
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
        }

        .dep-item {
            padding: 2px 6px;
            border-radius: 8px;
            font-size: 9px;
            font-weight: bold;
        }

        .dep-item.satisfied {
            background: #dcfce7;
            color: #16a34a;
        }

        .dep-item.missing {
            background: #fef2f2;
            color: #dc2626;
        }

        .tech-impact {
            margin-top: 10px;
            font-size: 12px;
            font-weight: bold;
            color: #3b82f6;
        }

        .filter-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
        }

        .filter-btn {
            padding: 8px 16px;
            border-radius: 20px;
            border: 2px solid #e5e7eb;
            background: white;
            color: #6b7280;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-btn.active {
            border: 2px solid #E31E24;
            background: #fef2f2;
            color: #E31E24;
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 10px;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            text-align: center;
            padding: 30px;
            border-radius: 15px;
        }

        .metric-value {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .metric-label {
            font-size: 14px;
            color: #6b7280;
        }

        .roadmap-container {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 15px;
            padding: 20px;
        }

        .roadmap-canvas {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            border: 2px solid #e2e8f0;
        }

        .hidden {
            display: none;
        }

        .phase-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .phase-card {
            padding: 15px;
            border-radius: 12px;
            border: 3px solid;
        }

        .phase-card.current {
            opacity: 1;
        }

        .phase-card.inactive {
            opacity: 0.7;
        }

        .phase-header {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }

        .phase-number {
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            margin-right: 8px;
            color: white;
        }

        .phase-name {
            font-weight: bold;
            font-size: 14px;
        }

        .phase-desc {
            font-size: 11px;
            color: #6b7280;
        }

        .current-marker {
            margin-left: auto;
            font-size: 16px;
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #6b7280;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 1000px;
            width: 100%;
            max-height: 90vh;
            overflow: auto;
        }

        .modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #6b7280;
        }

        @media (max-width: 768px) {
            .logo-container {
                flex-direction: column;
                text-align: center;
            }

            .logo-box {
                margin-right: 0;
                margin-bottom: 15px;
            }

            .main-title {
                font-size: 28px;
            }

            .btn {
                width: 100%;
                margin: 5px 0;
            }

            .trust-indicators {
                flex-direction: column;
                gap: 15px;
            }

            .button-group {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo-container">
                <div class="logo-box">
                    <span class="logo-icon">üõ°Ô∏è</span>
                </div>
                <div>
                    <h1 class="main-title">Fortinet Security Fabric</h1>
                    <div class="subtitle">Cybersecurity Maturity Assessment</div>
                </div>
            </div>
            <p class="description">
                Evaluate su postura de seguridad actual y descubra el roadmap personalizado para alcanzar la excelencia en ciberseguridad
            </p>
        </div>

        <!-- Homepage -->
        <div id="homepage" class="card">
            <div style="text-align: center; margin: 30px 0;">
                <button class="btn btn-primary" onclick="showDemo()">
                    üöÄ Ver Demo Interactivo
                </button>
                <button class="btn btn-secondary" onclick="startAssessment()">
                    üìä Iniciar Assessment
                </button>
            </div>
            
            <div class="trust-indicators">
                <div class="trust-item">
                    <span class="trust-icon">üèÜ</span>
                    #1 en Firewalls Globalmente
                </div>
                <div class="trust-item">
                    <span class="trust-icon">üõ°Ô∏è</span>
                    500,000+ Organizaciones
                </div>
                <div class="trust-item">
                    <span class="trust-icon">‚ö°</span>
                    Assessment en 5 Minutos
                </div>
            </div>
        </div>

        <!-- Step 1: Industry Selection -->
        <div id="step1" class="card hidden">
            <h2 class="card-title">üè¢ Selecciona tu Industria</h2>
            
            <div class="grid grid-2" id="industries-grid">
                <!-- Se llena din√°micamente -->
            </div>

            <div style="text-align: center;">
                <button class="btn btn-primary" onclick="continueToAssessment()" id="continue-btn" disabled>
                    Continuar al Assessment ‚Üí
                </button>
            </div>
        </div>

        <!-- Step 2: Technology Assessment -->
        <div id="step2" class="card hidden">
            <h2 class="card-title">üîç Assessment del Portafolio Fortinet</h2>

            <!-- Category Filters -->
            <div class="filter-buttons" id="category-filters">
                <!-- Se llena din√°micamente -->
            </div>
            
            <div class="grid grid-3" id="technologies-grid">
                <!-- Se llena din√°micamente -->
            </div>

            <div class="button-group">
                <button class="btn btn-gray" onclick="goToStep(1)">
                    ‚Üê Anterior
                </button>
                <button class="btn btn-primary" onclick="generateResults()">
                    üöÄ Generar Roadmap
                </button>
            </div>
        </div>

        <!-- Step 4: Results -->
        <div id="step4" class="hidden">
            <!-- Overview -->
            <div class="card">
                <h2 class="card-title">üéØ Tu Nivel de Madurez</h2>
                
                <div class="metrics-grid" id="metrics-grid">
                    <!-- Se llena din√°micamente -->
                </div>
            </div>

            <!-- Roadmap Visual -->
            <div class="card">
                <h2 class="card-title">üó∫Ô∏è Roadmap Visual de Madurez</h2>
                
                <div class="roadmap-container">
                    <canvas id="roadmap-canvas" width="800" height="200" class="roadmap-canvas"></canvas>
                </div>

                <!-- Phase Details -->
                <div class="phase-grid" id="phases-grid">
                    <!-- Se llena din√°micamente -->
                </div>
            </div>

            <!-- Technologies -->
            <div class="grid grid-2">
                <!-- Implemented -->
                <div class="card">
                    <h3 style="font-size: 24px; font-weight: bold; margin-bottom: 20px; color: #10b981;">
                        ‚úÖ Implementadas (<span id="implemented-count">0</span>)
                    </h3>
                    
                    <div id="implemented-list">
                        <!-- Se llena din√°micamente -->
                    </div>
                </div>

                <!-- Missing -->
                <div class="card">
                    <h3 style="font-size: 24px; font-weight: bold; margin-bottom: 20px; color: #E31E24;">
                        üéØ Pr√≥ximos Pasos (<span id="missing-count">0</span>)
                    </h3>
                    
                    <div id="missing-list">
                        <!-- Se llena din√°micamente -->
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; margin-top: 30px;">
                <button class="btn btn-gray" onclick="resetAssessment()">
                    üîÑ Nuevo Assessment
                </button>
                <button class="btn btn-secondary" onclick="showComparison()">
                    ü•ä Ver Comparativa
                </button>
                <button class="btn btn-primary" onclick="shareResults()">
                    üîó Compartir Resultado
                </button>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>¬© 2025 Fortinet Security Fabric - Cybersecurity Assessment Tool</p>
            <p style="font-size: 14px;">Para m√°s informaci√≥n contacte a su representante Fortinet</p>
        </div>
    </div>

    <!-- Comparison Modal -->
    <div id="comparison-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 style="font-size: 28px; font-weight: bold; margin: 0;">
                    ü•ä Fortinet vs Competencia
                </h2>
                <button class="modal-close" onclick="hideComparison()">‚úï</button>
            </div>

            <div class="grid grid-3" style="margin-bottom: 30px;">
                <div style="border: 3px solid #ff6900; border-radius: 15px; padding: 20px; background: #ff690010;">
                    <div style="display: flex; align-items: center; margin-bottom: 15px;">
                        <span style="font-size: 32px; margin-right: 10px;">üüß</span>
                        <div>
                            <h4 style="font-size: 18px; font-weight: bold; margin: 0; color: #ff6900;">Palo Alto Networks</h4>
                            <div style="font-size: 12px; color: #6b7280;">Market Share: 18%</div>
                        </div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <h5 style="font-size: 14px; font-weight: bold; color: #059669; margin-bottom: 8px;">‚úÖ Fortalezas:</h5>
                        <ul style="font-size: 12px; margin: 0; padding-left: 20px;">
                            <li>NGFW l√≠der</li>
                            <li>Threat Intelligence</li>
                            <li>Cloud Security</li>
                        </ul>
                    </div>
                    <div>
                        <h5 style="font-size: 14px; font-weight: bold; color: #dc2626; margin-bottom: 8px;">‚ùå Debilidades:</h5>
                        <ul style="font-size: 12px; margin: 0; padding-left: 20px;">
                            <li>Precio alto</li>
                            <li>Complejidad</li>
                            <li>Soporte limitado</li>
                        </ul>
                    </div>
                </div>

                <div style="border: 3px solid #0066cc; border-radius: 15px; padding: 20px; background: #0066cc10;">
                    <div style="display: flex; align-items: center; margin-bottom: 15px;">
                        <span style="font-size: 32px; margin-right: 10px;">üîµ</span>
                        <div>
                            <h4 style="font-size: 18px; font-weight: bold; margin: 0; color: #0066cc;">Cisco Security</h4>
                            <div style="font-size: 12px; color: #6b7280;">Market Share: 15%</div>
                        </div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <h5 style="font-size: 14px; font-weight: bold; color: #059669; margin-bottom: 8px;">‚úÖ Fortalezas:</h5>
                        <ul style="font-size: 12px; margin: 0; padding-left: 20px;">
                            <li>Integraci√≥n networking</li>
                            <li>Enterprise Focus</li>
                            <li>Ecosystem</li>
                        </ul>
                    </div>
                    <div>
                        <h5 style="font-size: 14px; font-weight: bold; color: #dc2626; margin-bottom: 8px;">‚ùå Debilidades:</h5>
                        <ul style="font-size: 12px; margin: 0; padding-left: 20px;">
                            <li>Costos altos</li>
                            <li>Complejidad</li>
                            <li>M√∫ltiples consolas</li>
                        </ul>
                    </div>
                </div>

                <div style="border: 3px solid #ff0000; border-radius: 15px; padding: 20px; background: #ff000010;">
                    <div style="display: flex; align-items: center; margin-bottom: 15px;">
                        <span style="font-size: 32px; margin-right: 10px;">üî¥</span>
                        <div>
                            <h4 style="font-size: 18px; font-weight: bold; margin: 0; color: #ff0000;">Check Point</h4>
                            <div style="font-size: 12px; color: #6b7280;">Market Share: 12%</div>
                        </div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <h5 style="font-size: 14px; font-weight: bold; color: #059669; margin-bottom: 8px;">‚úÖ Fortalezas:</h5>
                        <ul style="font-size: 12px; margin: 0; padding-left: 20px;">
                            <li>Threat Prevention</li>
                            <li>Enterprise Security</li>
                            <li>R&D</li>
                        </ul>
                    </div>
                    <div>
                        <h5 style="font-size: 14px; font-weight: bold; color: #dc2626; margin-bottom: 8px;">‚ùå Debilidades:</h5>
                        <ul style="font-size: 12px; margin: 0; padding-left: 20px;">
                            <li>Precio premium</li>
                            <li>Interfaces complejas</li>
                            <li>Curva de aprendizaje</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Fortinet Advantages -->
            <div style="background: linear-gradient(135deg, #fee2e2 0%, #fef2f2 100%); border: 3px solid #E31E24; border-radius: 15px; padding: 30px;">
                <h3 style="font-size: 24px; font-weight: bold; margin-bottom: 20px; color: #E31E24; text-align: center;">
                    üõ°Ô∏è ¬øPor qu√© elegir Fortinet?
                </h3>
                
                <div class="grid grid-4">
                    <div style="text-align: center; padding: 20px; background: white; border-radius: 12px;">
                        <div style="font-size: 32px; margin-bottom: 10px;">üèÜ</div>
                        <h4 style="font-size: 16px; font-weight: bold; margin-bottom: 8px;">L√≠der del Mercado</h4>
                        <p style="font-size: 12px; color: #6b7280; margin: 0;">
                            #1 en shipments de firewalls globalmente
                        </p>
                    </div>
                    
                    <div style="text-align: center; padding: 20px; background: white; border-radius: 12px;">
                        <div style="font-size: 32px; margin-bottom: 10px;">üí∞</div>
                        <h4 style="font-size: 16px; font-weight: bold; margin-bottom: 8px;">Mejor TCO</h4>
                        <p style="font-size: 12px; color: #6b7280; margin: 0;">
                            Hasta 50% menor costo que competidores
                        </p>
                    </div>
                    
                    <div style="text-align: center; padding: 20px; background: white; border-radius: 12px;">
                        <div style="font-size: 32px; margin-bottom: 10px;">üîó</div>
                        <h4 style="font-size: 16px; font-weight: bold; margin-bottom: 8px;">Security Fabric</h4>
                        <p style="font-size: 12px; color: #6b7280; margin: 0;">
                            Plataforma completamente integrada
                        </p>
                    </div>
                    
                    <div style="text-align: center; padding: 20px; background: white; border-radius: 12px;">
                        <div style="font-size: 32px; margin-bottom: 10px;">‚ö°</div>
                        <h4 style="font-size: 16px; font-weight: bold; margin-bottom: 8px;">Performance</h4>
                        <p style="font-size: 12px; color: #6b7280; margin: 0;">
                            ASICs propietarios para m√°ximo rendimiento
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data structures
        const industries = {
            financial: { name: 'Servicios Financieros', icon: 'üè¶', frameworks: ['SOX', 'PCI-DSS', 'NIST', 'ISO27001'] },
            government: { name: 'Gobierno', icon: 'üèõÔ∏è', frameworks: ['NIST', 'FedRAMP', 'FISMA', 'CIS'] },
            healthcare: { name: 'Salud', icon: 'üè•', frameworks: ['HIPAA', 'HITECH', 'NIST', 'ISO27001'] },
            retail: { name: 'Retail', icon: 'üõí', frameworks: ['PCI-DSS', 'GDPR', 'ISO27001', 'CIS'] },
            manufacturing: { name: 'Manufactura', icon: 'üè≠', frameworks: ['IEC62443', 'NIST', 'ISO27001', 'CIS'] },
            education: { name: 'Educaci√≥n', icon: 'üéì', frameworks: ['FERPA', 'NIST', 'ISO27001', 'CIS'] }
        };

        const maturityPhases = {
            phase1: { name: "B√°sico - Protecci√≥n Fundamental", level: "1.0 - 2.5", color: "#dc2626", bgColor: "#fee2e2", description: "Controles b√°sicos de seguridad", compliance: 25 },
            phase2: { name: "Intermedio - Detecci√≥n y Respuesta", level: "2.5 - 3.5", color: "#f97316", bgColor: "#fed7aa", description: "Capacidades de detecci√≥n y an√°lisis", compliance: 60 },
            phase3: { name: "Avanzado - Orquestaci√≥n Inteligente", level: "3.5 - 4.5", color: "#0891b2", bgColor: "#cffafe", description: "Respuesta automatizada y XDR", compliance: 85 },
            phase4: { name: "Excelencia - Zero Trust & AI", level: "4.5 - 5.0", color: "#059669", bgColor: "#dcfce7", description: "Arquitectura Zero Trust completa", compliance: 100 }
        };

        const technologies = {
            'FortiGate 30G': { icon: 'üî•', score: 0.8, desc: 'Next-Generation Firewall de entrada', phase: 'phase1', category: 'Network Security', dependencies: [], enables: ['FortiAnalyzer', 'FortiManager'] },
            'FortiGate 700G': { icon: '‚ö°', score: 1.8, desc: 'Hybrid Mesh Firewall avanzado', phase: 'phase3', category: 'Network Security', dependencies: [], enables: ['FortiAnalyzer', 'FortiXDR'] },
            'FortiEDR': { icon: 'üõ°Ô∏è', score: 1.3, desc: 'Endpoint Detection and Response', phase: 'phase2', category: 'Endpoint Security', dependencies: ['FortiClient EMS'], enables: ['FortiXDR'] },
            'FortiXDR': { icon: 'üéØ', score: 1.7, desc: 'Extended Detection and Response', phase: 'phase3', category: 'SOC & Analytics', dependencies: ['FortiEDR'], enables: ['FortiSIEM'] },
            'FortiSIEM': { icon: 'üîç', score: 1.4, desc: 'Security Information and Event Management', phase: 'phase3', category: 'SOC & Analytics', dependencies: ['FortiAnalyzer'], enables: ['FortiSOAR'] },
            'FortiAnalyzer': { icon: 'üìä', score: 0.9, desc: 'Security Analytics y Reporting', phase: 'phase2', category: 'SOC & Analytics', dependencies: ['FortiGate 30G'], enables: ['FortiSIEM'] },
            'FortiAuthenticator': { icon: 'üîê', score: 0.8, desc: 'Multi-Factor Authentication', phase: 'phase1', category: 'Access Control', dependencies: [], enables: ['FortiNAC'] },
            'FortiNAC': { icon: 'üö™', score: 1.2, desc: 'Network Access Control', phase: 'phase2', category: 'Access Control', dependencies: ['FortiAuthenticator'], enables: [] },
            'FortiMail': { icon: 'üìß', score: 1.0, desc: 'Email Security Gateway', phase: 'phase1', category: 'Email & Web Security', dependencies: [], enables: ['FortiSandbox'] },
            'FortiWeb': { icon: 'üåç', score: 1.1, desc: 'Web Application Firewall', phase: 'phase2', category: 'Email & Web Security', dependencies: [], enables: ['FortiSandbox'] },
            'FortiSandbox': { icon: 'üß™', score: 1.0, desc: 'Advanced Threat Protection', phase: 'phase2', category: 'Email & Web Security', dependencies: ['FortiMail'], enables: ['FortiXDR'] },
            'FortiClient EMS': { icon: 'üíª', score: 0.7, desc: 'Endpoint Management Suite', phase: 'phase1', category: 'Endpoint Security', dependencies: [], enables: ['FortiEDR'] },
            'FortiSwitch': { icon: 'üîå', score: 0.6, desc: 'Switching Ethernet seguro', phase: 'phase2', category: 'Secure Networking', dependencies: ['FortiGate 30G'], enables: ['FortiNAC'] },
            'FortiAP': { icon: 'üì∂', score: 0.5, desc: 'Wireless Access Points', phase: 'phase2', category: 'Secure Networking', dependencies: ['FortiGate 30G'], enables: ['FortiNAC'] },
            'FortiSASE': { icon: 'üåê', score: 1.8, desc: 'Secure Access Service Edge', phase: 'phase4', category: 'SASE & SD-WAN', dependencies: ['FortiGate 700G'], enables: [] },
            'FortiManager': { icon: '‚öôÔ∏è', score: 0.8, desc: 'Centralized Security Management', phase: 'phase2', category: 'Management', dependencies: ['FortiGate 30G'], enables: [] },
            'FortiSOAR': { icon: 'ü§ñ', score: 1.3, desc: 'Security Orchestration and Response', phase: 'phase3', category: 'SOC & Analytics', dependencies: ['FortiSIEM'], enables: [] },
            'FortiCWP': { icon: '‚òÅÔ∏è', score: 1.1, desc: 'Cloud Workload Protection', phase: 'phase3', category: 'Cloud Security', dependencies: [], enables: ['FortiXDR'] }
        };

        // App state
        let currentStep = 0;
        let assessmentData = {
            industry: '',
            frameworks: [],
            techs: {},
            categoryFilter: 'Todas'
        };
        let results = null;

        // Helper functions
        function show(elementId) {
            document.getElementById(elementId).classList.remove('hidden');
        }

        function hide(elementId) {
            document.getElementById(elementId).classList.add('hidden');
        }

        function goToStep(step) {
            // Hide all steps
            hide('homepage');
            hide('step1');
            hide('step2');
            hide('step4');
            
            // Show current step
            currentStep = step;
            if (step === 0) show('homepage');
            else if (step === 1) show('step1');
            else if (step === 2) show('step2');
            else if (step === 4) show('step4');
        }

        // Navigation functions
        function showDemo() {
            // Load demo data
            assessmentData = {
                industry: 'financial',
                frameworks: ['SOX', 'PCI-DSS', 'NIST', 'ISO27001'],
                techs: {
                    'FortiGate 30G': true,
                    'FortiAuthenticator': true,
                    'FortiMail': true,
                    'FortiClient EMS': true,
                    'FortiAnalyzer': true
                },
                categoryFilter: 'Todas'
            };
            generateResults();
        }

        function startAssessment() {
            renderIndustries();
            goToStep(1);
        }

        function continueToAssessment() {
            if (!assessmentData.industry) return;
            renderTechnologies();
            goToStep(2);
        }

        function resetAssessment() {
            assessmentData = { industry: '', frameworks: [], techs: {}, categoryFilter: 'Todas' };
            results = null;
            currentStep = 0;
            goToStep(0);
        }

        // Industry selection
        function renderIndustries() {
            const grid = document.getElementById('industries-grid');
            grid.innerHTML = '';
            
            Object.entries(industries).forEach(([key, industry]) => {
                const card = document.createElement('div');
                card.className = `industry-card ${assessmentData.industry === key ? 'selected' : ''}`;
                card.onclick = () => selectIndustry(key);
                
                card.innerHTML = `
                    <div class="industry-icon">${industry.icon}</div>
                    <div class="industry-name">${industry.name}</div>
                    <div class="industry-frameworks">Frameworks: ${industry.frameworks.join(', ')}</div>
                `;
                
                grid.appendChild(card);
            });
        }

        function selectIndustry(industryKey) {
            assessmentData.industry = industryKey;
            assessmentData.frameworks = industries[industryKey].frameworks;
            
            // Update UI
            document.querySelectorAll('.industry-card').forEach(card => {
                card.classList.remove('selected');
            });
            event.target.closest('.industry-card').classList.add('selected');
            
            // Enable continue button
            const continueBtn = document.getElementById('continue-btn');
            continueBtn.disabled = false;
            continueBtn.style.background = 'linear-gradient(135deg, #E31E24 0%, #B71C1C 100%)';
            continueBtn.style.boxShadow = '0 8px 25px rgba(227, 30, 36, 0.3)';
        }

        // Technology assessment
        function renderTechnologies() {
            renderCategoryFilters();
            renderTechGrid();
        }

        function renderCategoryFilters() {
            const container = document.getElementById('category-filters');
            const categories = ['Todas', 'Network Security', 'Endpoint Security', 'Email & Web Security', 'Access Control', 'SOC & Analytics', 'Cloud Security', 'SASE & SD-WAN', 'Management'];
            
            container.innerHTML = '';
            categories.forEach(category => {
                const btn = document.createElement('button');
                btn.className = `filter-btn ${assessmentData.categoryFilter === category ? 'active' : ''}`;
                btn.textContent = category;
                btn.onclick = () => {
                    assessmentData.categoryFilter = category;
                    renderCategoryFilters();
                    renderTechGrid();
                };
                container.appendChild(btn);
            });
        }

        function renderTechGrid() {
            const grid = document.getElementById('technologies-grid');
            grid.innerHTML = '';
            
            Object.entries(technologies)
                .filter(([name, tech]) => 
                    assessmentData.categoryFilter === 'Todas' || 
                    tech.category === assessmentData.categoryFilter
                )
                .forEach(([name, tech]) => {
                    const isImplemented = assessmentData.techs[name];
                    const hasImplementedDependencies = tech.dependencies.every(dep => assessmentData.techs[dep]);
                    const canImplement = tech.dependencies.length === 0 || hasImplementedDependencies;
                    
                    const card = document.createElement('div');
                    card.className = `tech-card ${isImplemented ? 'implemented' : ''} ${!canImplement && !isImplemented ? 'disabled' : ''}`;
                    
                    if (canImplement || isImplemented) {
                        card.onclick = () => toggleTechnology(name);
                    }
                    
                    let dependenciesHTML = '';
                    if (tech.dependencies.length > 0) {
                        const depItems = tech.dependencies.map(dep => 
                            `<span class="dep-item ${assessmentData.techs[dep] ? 'satisfied' : 'missing'}">
                                ${assessmentData.techs[dep] ? '‚úì' : '‚óã'} ${dep.split(' ')[0]}
                            </span>`
                        ).join('');
                        
                        dependenciesHTML = `
                            <div class="dependencies">
                                <div class="dep-label">Requiere:</div>
                                <div class="dep-list">${depItems}</div>
                            </div>
                        `;
                    }
                    
                    card.innerHTML = `
                        <div class="tech-category">${tech.category}</div>
                        <div class="tech-header">
                            <div class="tech-info">
                                <span class="tech-icon">${tech.icon}</span>
                                <span class="tech-name">${name}</span>
                            </div>
                            ${isImplemented ? '<span class="tech-status">‚úÖ</span>' : ''}
                            ${!canImplement && !isImplemented ? '<span style="color: #9ca3af; font-size: 16px;">üîí</span>' : ''}
                        </div>
                        <p class="tech-desc">${tech.desc}</p>
                        ${dependenciesHTML}
                        <div class="tech-impact">Impacto: +${tech.score}</div>
                    `;
                    
                    grid.appendChild(card);
                });
        }

        function toggleTechnology(name) {
            assessmentData.techs[name] = !assessmentData.techs[name];
            renderTechGrid();
        }

        // Results generation
        function generateResults() {
            const implemented = Object.entries(assessmentData.techs)
                .filter(([_, selected]) => selected)
                .map(([name, _]) => ({ name, ...technologies[name] }));
            
            const missing = Object.entries(technologies)
                .filter(([name, _]) => !assessmentData.techs[name])
                .map(([name, tech]) => ({ name, ...tech }))
                .sort((a, b) => b.score - a.score);

            const overallMaturity = calculateMaturityLevel();
            const currentPhase = getCurrentPhase();

            results = {
                implemented,
                missing,
                overallMaturity: Math.round(overallMaturity * 10) / 10,
                currentPhase,
                riskReduction: Math.min(overallMaturity * 17, 85)
            };

            renderResults();
            goToStep(4);
        }

        function calculateMaturityLevel() {
            const implemented = Object.entries(assessmentData.techs).filter(([_, selected]) => selected).map(([name, _]) => technologies[name]);
            const totalScore = implemented.reduce((sum, tech) => sum + tech.score, 0);
            const maxPossibleScore = Object.values(technologies).reduce((sum, tech) => sum + tech.score, 0);
            return Math.min(5, Math.max(1, (totalScore / maxPossibleScore) * 5));
        }

        function getCurrentPhase() {
            const level = calculateMaturityLevel();
            if (level <= 2.5) return 'phase1';
            if (level <= 3.5) return 'phase2'; 
            if (level <= 4.5) return 'phase3';
            return 'phase4';
        }

        function renderResults() {
            renderMetrics();
            renderPhases();
            renderImplementedList();
            renderMissingList();
            setTimeout(drawRoadmap, 200);
        }

        function renderMetrics() {
            const grid = document.getElementById('metrics-grid');
            grid.innerHTML = `
                <div class="metric-card" style="background: #dbeafe;">
                    <div class="metric-value" style="color: #3b82f6;">${results.overallMaturity}</div>
                    <div class="metric-label">Nivel Actual</div>
                </div>
                <div class="metric-card" style="background: #dcfce7;">
                    <div class="metric-value" style="color: #10b981;">${results.implemented.length}</div>
                    <div class="metric-label">Implementadas</div>
                </div>
                <div class="metric-card" style="background: #fef3c7;">
                    <div class="metric-value" style="color: #f59e0b;">${assessmentData.frameworks.length}</div>
                    <div class="metric-label">Frameworks</div>
                </div>
                <div class="metric-card" style="background: #fdf4ff;">
                    <div class="metric-value" style="color: #a855f7;">${maturityPhases[results.currentPhase]?.name.split(' - ')[0] || 'B√°sico'}</div>
                    <div class="metric-label">Fase Actual</div>
                </div>
            `;
        }

        function renderPhases() {
            const grid = document.getElementById('phases-grid');
            grid.innerHTML = '';
            
            Object.entries(maturityPhases).forEach(([phaseKey, phase], index) => {
                const isCurrentPhase = results.currentPhase === phaseKey;
                const card = document.createElement('div');
                card.className = `phase-card ${isCurrentPhase ? 'current' : 'inactive'}`;
                card.style.borderColor = phase.color;
                card.style.background = isCurrentPhase ? phase.bgColor : 'white';
                
                card.innerHTML = `
                    <div class="phase-header">
                        <span class="phase-number" style="background: ${phase.color};">${index + 1}</span>
                        <span class="phase-name" style="color: ${phase.color};">${phase.name.split(' - ')[0]}</span>
                        ${isCurrentPhase ? '<span class="current-marker">üìç</span>' : ''}
                    </div>
                    <div class="phase-desc">${phase.description}</div>
                `;
                
                grid.appendChild(card);
            });
        }

        function renderImplementedList() {
            const container = document.getElementById('implemented-list');
            const count = document.getElementById('implemented-count');
            
            count.textContent = results.implemented.length;
            
            if (results.implemented.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #6b7280;">
                        <div style="font-size: 48px; margin-bottom: 15px; opacity: 0.5;">üõ°Ô∏è</div>
                        <p>No tienes tecnolog√≠as Fortinet</p>
                    </div>
                `;
            } else {
                container.innerHTML = results.implemented.map(tech => `
                    <div style="border: 2px solid #10b981; border-radius: 12px; padding: 15px; background: #f0fdf4; margin-bottom: 15px;">
                        <div style="display: flex; align-items: center; margin-bottom: 8px;">
                            <span style="font-size: 20px; margin-right: 10px;">${tech.icon}</span>
                            <span style="font-weight: bold;">${tech.name}</span>
                        </div>
                        <p style="font-size: 14px; color: #6b7280; margin: 0;">${tech.desc}</p>
                    </div>
                `).join('');
            }
        }

        function renderMissingList() {
            const container = document.getElementById('missing-list');
            const count = document.getElementById('missing-count');
            
            count.textContent = Math.min(results.missing.length, 5);
            
            container.innerHTML = results.missing.slice(0, 5).map((tech, idx) => `
                <div style="border: 2px solid #E31E24; border-radius: 12px; padding: 15px; background: #fef2f2; margin-bottom: 15px;">
                    <div style="display: flex; align-items: center; margin-bottom: 8px;">
                        <span style="font-size: 20px; margin-right: 10px;">${tech.icon}</span>
                        <span style="font-weight: bold;">${tech.name}</span>
                        <span style="margin-left: auto; font-size: 12px; background: #E31E24; color: white; padding: 4px 8px; border-radius: 20px;">
                            #${idx + 1}
                        </span>
                    </div>
                    <p style="font-size: 14px; color: #6b7280; margin: 0;">${tech.desc}</p>
                </div>
            `).join('');
        }

        function drawRoadmap() {
            const canvas = document.getElementById('roadmap-canvas');
            if (!canvas || !results) return;

            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;

            // Clear canvas
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, width, height);

            // Title
            ctx.fillStyle = '#E31E24';
            ctx.font = 'bold 24px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('üõ°Ô∏è FORTINET SECURITY ROADMAP', width / 2, 40);

            // Maturity level
            ctx.fillStyle = '#333333';
            ctx.font = 'bold 18px Arial';
            ctx.fillText(`Nivel de Madurez: ${results.overallMaturity}/5.0`, width / 2, 80);

            // Base line
            ctx.strokeStyle = '#E31E24';
            ctx.lineWidth = 4;
            ctx.beginPath();
            ctx.moveTo(50, height / 2);
            ctx.lineTo(width - 50, height / 2);
            ctx.stroke();

            // Current marker
            const currentX = 50 + ((width - 100) * (results.overallMaturity / 5));
            ctx.fillStyle = '#E31E24';
            ctx.beginPath();
            ctx.arc(currentX, height / 2, 8, 0, 2 * Math.PI);
            ctx.fill();

            // Labels
            ctx.fillStyle = '#666666';
            ctx.font = '14px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('B√°sico', 50, height / 2 + 30);
            ctx.textAlign = 'right';
            ctx.fillText('Excelencia', width - 50, height / 2 + 30);
            ctx.textAlign = 'center';
            ctx.fillText('Tu Posici√≥n', currentX, height / 2 - 20);
        }

        // Modal functions
        function showComparison() {
            show('comparison-modal');
        }

        function hideComparison() {
            hide('comparison-modal');
        }

        function shareResults() {
            const url = window.location.href;
            if (navigator.clipboard) {
                navigator.clipboard.writeText(url).then(() => {
                    alert('üîó ¬°URL copiada al portapapeles! Comp√°rtela con clientes y equipo.');
                }).catch(() => {
                    alert('üîó URL para compartir: ' + url);
                });
            } else {
                alert('üîó URL para compartir: ' + url);
            }
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            goToStep(0);
        });
    </script>
</body>
</html>
